import{Controller as e}from"@hotwired/stimulus";import"@kanety/stimulus-static-actions";class t extends e{get items(){return Array.from(this.element.children)}get checkboxes(){return this.scope.findAllElements(this.filterValue).filter(e=>!e.disabled)}check(e){let t=e.target;for(;t&&t.parentNode!=this.element;){if(t.matches(this.constructor.skipTags))return;t=t.parentNode}t&&this.update(t,e.shiftKey,e.ctrlKey)}update(e,t=!1,s=!1){let c=this.current;t&&c?(this.uncheckAll(),this.checkBetween(c,e)):s?this.checkToggle(e):(this.uncheckAll(),this.checkItem(e),this.current=e)}uncheckAll(){this.checkboxes.forEach(e=>e.checked=!1)}checkItem(e){let t=this.checkboxAt(e);t&&(t.checked=!0)}checkToggle(e){let t=this.checkboxAt(e);t&&(t.checked=!t.checked)}checkBetween(e,t){let s=this.items,c=s.indexOf(e),l=s.indexOf(t);c>l&&([c,l]=[l,c]),s.slice(c,l+1).forEach(e=>{let t=this.checkboxAt(e);t&&(t.checked=!0)})}checkboxAt(e){let t=e.querySelector(this.filterValue);return t.disabled?null:t}disableUS(e){(e.ctrlKey||e.shiftKey)&&this.toggleUS(!1)}enableUS(e){(e.ctrlKey||e.shiftKey)&&this.toggleUS(!0)}toggleUS(e){this.disableUserSelect=!e,e?this.element.classList.remove("st-checklist--disable-us"):this.element.classList.add("st-checklist--disable-us")}preventUS(e){return!this.disableUserSelect}}t.values={filter:{type:String,default:"input[type=checkbox]"}},t.actions=[["element","click->check"],["element","mousedown->disableUS"],["element","mouseup->enableUS"],["element","userselect->preventUS"]],t.skipTags="a, input, select, textarea, button";export{t as default};
//# sourceMappingURL=index.modern.js.map
