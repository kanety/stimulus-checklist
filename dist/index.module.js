import{Controller as e}from"@hotwired/stimulus";import"@kanety/stimulus-static-actions";class t extends e{get items(){return Array.from(this.element.children)}get checkboxes(){return this.scope.findAllElements(this.filterValue).filter(e=>!e.disabled)}get skipTags(){var e=this.constructor.skipTags;return this.hasSkipTagsValue&&(e+=", "+this.skipTagsValue),e}check(e){var t=e.target;if(t!=this.element){for(var s=this.skipTags;t&&t.parentNode!=this.element;){if(t.matches(s))return;t=t.parentNode}t&&this.update(t,e.shiftKey,e.ctrlKey)}}update(e,t,s){void 0===t&&(t=!1),void 0===s&&(s=!1);var i=this.current;t&&i?(this.uncheckAll(),this.checkBetween(i,e)):s?this.checkToggle(e):(this.uncheckAll(),this.checkItem(e),this.current=e)}uncheckAll(){this.checkboxes.forEach(e=>e.checked=!1)}checkItem(e){var t=this.checkboxAt(e);t&&(t.checked=!0)}checkToggle(e){var t=this.checkboxAt(e);t&&(t.checked=!t.checked)}checkBetween(e,t){var s=this.items,i=s.indexOf(e),c=s.indexOf(t);i>c&&([i,c]=[c,i]),s.slice(i,c+1).forEach(e=>{var t=this.checkboxAt(e);t&&(t.checked=!0)})}checkboxAt(e){var t=e.querySelector(this.filterValue);return t.disabled?null:t}disableUS(e){(e.ctrlKey||e.shiftKey)&&this.toggleUS(!1)}enableUS(e){(e.ctrlKey||e.shiftKey)&&this.toggleUS(!0)}toggleUS(e){this.disableUserSelect=!e,e?this.element.classList.remove("st-checklist--disable-us"):this.element.classList.add("st-checklist--disable-us")}preventUS(e){return!this.disableUserSelect}}t.values={skipTags:String,filter:{type:String,default:"input[type=checkbox]"}},t.actions=[["element","click->check"],["element","mousedown->disableUS"],["element","mouseup->enableUS"],["element","userselect->preventUS"]],t.skipTags="a, input, select, textarea, button";export{t as default};
//# sourceMappingURL=index.module.js.map
